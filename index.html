<html>
	<head>
		<title>clarkson</title>
		<style>
			body { margin:50 ; }
			canvas { width: 50%; height: 50% }
		</style>
	</head>
	<body>
		<script src="js/three.min.js"></script>
		<script>
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );

      var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );

			var geometry = new THREE.SphereGeometry( 0.25, 8, 6 );
			var material = new THREE.MeshBasicMaterial( { color: 0x0000ff,transparent:true,opacity:0.7 });
			var obj = new THREE.Mesh( geometry, material );
			scene.add( obj );

      var sphere2 = new THREE.Mesh( geometry,material);
      scene.add(sphere2);

			camera.position.z = 5;

      var currentAlpha = 0;
      var currentBeta = 0;
      var currentGamma = 0;
      var newAlpha = 0;
      var newBeta = 0;
      var newGamma = 0;

			var render = function () {
				requestAnimationFrame( render );
      
        if(obj){
          if(currentAlpha != newAlpha){
            //ROTATE AROUND Z
            obj.rotation.z = newAlpha;
            currentAlpha = newAlpha;
          }

          if(currentBeta != newBeta){
            //ROTATE AROUND X
            obj.rotation.x = newBeta;
            currentBeta = newBeta;
          }

          if(currentGamma != newGamma){
            //ROTATE AROUND Y
            obj.rotation.y = newGamma;
            currentGamma = newGamma;
          }
          
          sphere2.translateY(-newBeta/50.0);
          sphere2.translateX(newGamma/50.0);

        }
				renderer.render(scene, camera);
			},cube;

      var handleOrientation = function(event){
        newAlpha = event.alpha/20.0;
        newBeta = event.beta/20.0;
        newGamma = event.gamma/20.0;
      };
      
      window.addEventListener("deviceorientation",handleOrientation,true);      

			render();
		</script>
	</body>
</html>
